@model Cesgranrio.CorretorDeProvas.Web.Models.LoginVM

@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using (Html.BeginForm())
{
    /*evitamos cross site request forgery*/
    @Html.AntiForgeryToken()

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="header">
                <h4 class="title">Iniciar sessão</h4>
                <p class="category">Informe suas credenciais abaixo</p>
                
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            </div>
            <div class="content">
                

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                @Html.LabelFor(model => model.CPF)
                                @Html.EditorFor(model => model.CPF, new { htmlAttributes = new { @class = "form-control", @placeholder = "Informe seu CPF", @maxlength = "14" } })
                                @Html.ValidationMessageFor(model => model.CPF, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                @Html.LabelFor(model => model.Senha)
                                @Html.EditorFor(model => model.Senha, new { htmlAttributes = new { @class = "form-control", @placeholder = "Informe sua senha", @maxlength = "50" } })
                                @Html.ValidationMessageFor(model => model.Senha, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>


                    <button type="submit" class="btn btn-info btn-fill pull-right">Entrar</button>
                    <div class="clearfix"></div>
                
            </div>
        </div>
    </div>
</div>
}

    @section Scripts {
        @Scripts.Render("~/bundles/jqueryval")

        <script>
            $("#CPF").on('blur', function () {
                if ($(this).val().trim() == '') return;
                try {
                    var n = parseInt($(this).val().replace(/[^0-9]/g, "")) + '';

                    $(this).val(formatarCPF(padLeft(n, 11)));
                }
                catch (ex) {
                    console.log('a string é maior que 14 caracteres');
                }
            });
        </script>
    }
